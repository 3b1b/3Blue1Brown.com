@import "palettes";
@import "theme";
@import "mixins";

.question {
  margin: 40px 0;
  @include trim-v-margins;
  text-align: left;

  .question_text {
    font-weight: $semi-bold;
    font-style: italic;
  }

  .question_choices {
    margin: 20px 0;

    .question_choice {
      position: relative;
      display: flex;
      align-items: center;

      background: none;
      transition: background $fast;
      cursor: pointer;

      &:hover {
        background: $light-blue-100;
      }

      input {
        opacity: 0;
        position: absolute;
        z-index: -2;
      }

      .radio {
        padding: 10px;
        width: 40px;
        height: 40px;
        border-radius: 100%;
        flex-shrink: 0;
        transition: background $fast;
      }

      input:focus-visible + .radio {
        background: $gray-200;
      }

      input + .radio:after {
        content: "";
        display: block;
        width: 100%;
        height: 100%;
        background: url("{{ `/images/icons/radio-unchecked.svg` | relURL }}");
      }

      input:checked + .radio:after {
        background: url("{{ `/images/icons/radio-checked.svg` | relURL }}");
      }

      .question_choice_text {
        padding: 10px;
        flex-grow: 1;
      }

      .question_choice_icon {
        display: none;
        justify-content: center;
        align-items: center;
        width: 40px;
        height: 40px;
        flex-shrink: 0;
        color: $green-500;
      }
    }

    mjx-container {
      display: inline !important;
    }
  }

  .question_result {
    display: none;
    align-items: center;
    font-family: $sans;

    & > span {
      padding: 5px 10px;
    }
  }

  &:not([data-reveal]) {
    .question_unanswered {
      display: flex;
    }
  }

  &[data-reveal="false"] {
    .question_incorrect {
      display: flex;
    }
  }

  &[data-reveal="true"] {
    .question_correct {
      display: block;
    }

    .question_choice[data-correct="true"] {
      background: $green-100;

      .question_choice_icon {
        display: flex;
      }
    }
  }
}
