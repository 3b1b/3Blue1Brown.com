{{- if hasPrefix .source "http" -}}
  {{- .source | safeURL -}}
{{- else if $resource := .context.Page.Resources.GetMatch .source -}}
  {{- $resource.RelPermalink -}}
{{- else -}}
  {{- errorf (printf "%s: Unable to find resource given the path:\"%s\"" .context.Position .source ) -}}
{{- end -}}
