{{ $path := print .File.Dir "patrons.txt"}}
{{ if fileExists $path }}
  {{ $file := readFile $path }}
  {{ $list := split $file "\n" }}

  {{ with $list }}
    <section>
      <div class="section">
        <h3 id="patrons">Thanks</h3>
        <p>
          These lessons are funded primarily by viewers and readers who join as contributing members on Patreon.
          To learn about this model, membership benefits, future projects, and more (or if you just want to find the secret video and other Easter eggs) visit the page below.
        </p>
        <div>
          {{ partial "clickable" (dict 
            "text" "3Blue1Brown on Patreon"
            "icon" "fas fa-hand-holding-heart"
            "link" "https://www.patreon.com/3blue1brown"
          ) }}
        </div>
        <p>
          Special thanks to the individuals below for their support of the original video behind this post, and further thanks to <a href="{{ `patron-thanks` | relURL }}">current patrons</a> 
          for helping fund future projects.
        </p>
        <div class="patrons" data-open="false" data-shuffle="true">
          {{ range $list }}
            <span>{{ partial "patron-name" . }}</span>
          {{ end }}
        </div>
        {{ partial "clickable" (dict "text" "See More" "icon" "fas fa-angle-down" "onclick" "togglePatrons(this)") }}
      </div>
    </section>
  {{ end }}
{{ end }}
